<div class="min-h-screen bg-gray-50 p-6 sm:p-10 flex justify-center">
  <div class="bg-white shadow-2xl rounded-3xl p-8 w-full max-w-xl">
    <h1 class="text-3xl font-bold text-blue-900 mb-4">Registrar Cita</h1>
    <p class="text-gray-600 mb-8">Selecciona tu mascota y programa su cita.</p>

    <form [formGroup]="form" (ngSubmit)="registrarCita()" class="space-y-6">
      <div>
        <label class="block text-gray-700 font-semibold mb-2">Mascota</label>
        <select
          formControlName="mascotaId"
          (change)="onMascotaChange($any($event.target).value)"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="">Seleccione una mascota</option>
          @for (mascota of mascotas; track mascota.id) {
            <option [value]="mascota.id">
              {{ mascota.nombre }} ({{ mascota.especie }})
            </option>
          }
        </select>
      </div>

      @if (mascotaSeleccionada) {
        <div class="p-4 bg-blue-50 rounded-xl border border-blue-200">
          <h3 class="font-bold text-blue-900 text-lg">
            {{ mascotaSeleccionada.nombre }}
          </h3>
          <p class="text-sm text-gray-600">
            <strong>Especie:</strong> {{ mascotaSeleccionada.especie }} <br />
            <strong>Sexo:</strong> {{ mascotaSeleccionada.sexo }} <br />
            <strong>Fecha Nac.:</strong>
            {{ mascotaSeleccionada.fechaNacimiento || 'N/A' }}
          </p>
        </div>
      }

      <div>
        <label class="block text-gray-700 font-semibold mb-2">Servicio</label>
        <select
          formControlName="servicio"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="" disabled>Seleccione un servicio</option>
          @for (servicio of serviciosCita; track $index) {
            <option [value]="servicio">{{ servicio }}</option>
          }
        </select>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2">Fecha</label>
        <input
          type="date"
          formControlName="fecha"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2">Hora</label>
        <select
          formControlName="hora"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="">Seleccione hora</option>
          @for (hora of horasDisponibles; track hora) {
            <option [value]="hora">{{ hora.slice(0, 5) }}</option>
          }
        </select>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2">Detalle</label>
        <textarea
          formControlName="detalle"
          rows="3"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Motivo o detalles de la cita"
        ></textarea>
      </div>

      <button
        type="submit"
        class="w-full bg-blue-900 text-white font-semibold py-3 rounded-xl hover:bg-blue-800 transition"
      >
        Registrar Cita
      </button>
    </form>
  </div>
</div>
