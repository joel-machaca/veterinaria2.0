<div class="min-h-screen bg-gray-50 p-6 sm:p-10">
  <div class="max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
    <h1 class="text-3xl font-extrabold text-blue-900 mb-6">Mi Perfil</h1>

    @if (usuario) {
      <form [formGroup]="form" class="space-y-5">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-1">Nombre</label>
          <input type="text" formControlName="nombre"
                 class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500"
                 [readonly]="!editando">
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-1">Correo</label>
          <input type="email" formControlName="email"
                 class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500"
                 [readonly]="!editando">
        </div>

        <div class="grid sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">Teléfono</label>
            <input type="text" formControlName="telefono"
                   class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500"
                   [readonly]="!editando">
          </div>
        </div>

        @if (!editando) {
          <button type="button"
                  (click)="habilitarEdicion()"
                  class="bg-blue-600 text-white px-5 py-2 rounded-xl font-semibold hover:bg-blue-700 transition">
            Editar Perfil
          </button>
        } @else {
          <div class="flex space-x-3">
            <button type="button"
                    (click)="guardar()"
                    class="bg-green-600 text-white px-5 py-2 rounded-xl font-semibold hover:bg-green-700 transition">
              Guardar Cambios
            </button>
            <button type="button"
                    (click)="cancelar()"
                    class="bg-gray-300 text-gray-800 px-5 py-2 rounded-xl font-semibold hover:bg-gray-400 transition">
              Cancelar
            </button>
          </div>
        }
      </form>
    } @else {
      <div class="text-center text-gray-500 py-10">
        <p>No se encontró la sesión del usuario.</p>
      </div>
    }
  </div>
</div>
